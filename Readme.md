# AutoRia Scraper

**AutoRia Scraper** — це проєкт на Python для автоматизованого збору даних з сайту [AutoRia](https://auto.ria.com/), популярного ресурсу оголошень про продаж авто в Україні. Проєкт зберігає інформацію про оголошення в базу даних PostgreSQL та дозволяє швидко отримувати актуальні дані про авто, включаючи контакти продавців, пробіг, VIN, ціну та фотографії.

---

## Функціонал

- Парсинг інформації про авто:
  - Назва та модель
  - Ціна у USD
  - Пробіг (odometer)
  - Ім'я користувача
  - Номер телефону
  - URL головного зображення та кількість фото
  - Номер автомобіля та VIN
  - Дата знаходження оголошення
- Збереження даних у таблицю `cars` PostgreSQL
- Автоматичне створення таблиці, якщо її не існує
- Використання headless Chrome через Selenium для швидкого та безшумного збору даних
- Робота через Docker для простого розгортання

## Встановлення та запуск

### Через Docker

1. Створіть `.env` файл у корені проєкту:

```
POSTGRES_DB=postgres
POSTGRES_USER=user
POSTGRES_PASSWORD=password
POSTGRES_PORT=5432
POSTGRES_HOST=db
```
```
URL=https://auto.ria.com/uk/car/used/
```

2. Запустіть Docker Compose:
```
docker-compose up -d --build
```


## Структура бази даних

### Таблиця `cars` створюється автоматично при старті парсера:

| Поле           | Тип                | Опис                               |
|----------------|--------------------|------------------------------------|
| id             | SERIAL PRIMARY KEY | Унікальний ідентифікатор           |
| url            | TEXT UNIQUE        | Посилання на оголошення            |
| title          | TEXT               | Назва авто                         |
| price_usd      | INTEGER            | Ціна у доларах                     |
| odometer       | INTEGER            | Пробіг авто                        |
| username       | TEXT               | Ім'я продавця                      |
| phone_number   | BIGINT             | Номер телефону                     |
| image_url      | TEXT               | Посилання на головне фото          |
| images_count   | INTEGER            | Кількість фото                     |
| car_number     | TEXT               | Номер авто (якщо доступно)         |
| car_vin        | TEXT               | VIN автомобіля                     |
| datetime_found | TIMESTAMP          | Дата та час знаходження оголошення |